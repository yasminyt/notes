## Map
+ Map ç±»å‹çš„æ•°æ®ä¹Ÿæ˜¯é”®å€¼å¯¹ï¼Œå’Œ object ç±»ä¼¼
+ ä½†æ˜¯ Map çš„å±æ€§å¯ä»¥æ˜¯**ä»»æ„ç±»å‹**çš„æ•°æ®ï¼ˆè€Œ object çš„å±æ€§åªèƒ½æ˜¯ string ç±»å‹ï¼‰
+ ä¸»è¦çš„æ–¹æ³•æœ‰ï¼š
  + **`new Map()`**ï¼šåˆ›å»º map
  + **`map.set(key, value)`**ï¼šæ·»åŠ æ–°çš„ map æ•°æ®é¡¹
  + **`map.get(key)`**ï¼šæ ¹æ® key è¿”å›å¯¹åº”çš„ valueï¼Œå¦‚æœè¿™ä¸ª key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› undefined
  + **`map.has(key)`**ï¼šåˆ¤æ–­ key æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨è¿”å› trueï¼Œå¦åˆ™è¿”å› false
  + **`map.delete(key)`**ï¼šæ ¹æ® key åˆ é™¤å¯¹åº”çš„ valueï¼Œå¦‚æœåˆ é™¤æˆåŠŸåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseï¼ˆkey ä¸å­˜åœ¨ï¼‰
  + **`map.clear()`**ï¼šæ¸…ç©º map
  + **`map.size`**ï¼šè¿”å› map ä¸­çš„å…ƒç´ æ€»å’Œ

### ä½¿ç”¨ object ä½œä¸º map çš„ key
+ ä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®ï¼Œæ˜¯ Map æœ€æ˜¾è‘—å’Œæœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€
  + ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„å° demo å±•ç¤ºäº†ä½¿ç”¨ object ä½œä¸º key çš„ä½œç”¨
  ```javascript
  // ä»¥ä¸‹ä½¿ç”¨ map ç»“æ„æ¥è®°å½•æ¯ä¸€ä¸ªè®¿å®¢ä¸ºç¬¬å‡ ä½
  let john = { name: 'John' }

  let visitsCountMap = new Map()

  visitsCountMap.set(john, 123)

  // è€Œä¼ ç»Ÿçš„ä½¿ç”¨ object çš„åšæ³•ä¸ºï¼š
  let john = { name: 'John', id: 1 }  
  let visitsCount = {}
  
  visitsCount[john.id] = 123  // éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ ‡è¯†æ¥è®°å½•å¯¹åº”çš„äºº
  ```
  + ä»ä»¥ä¸Šä¸¤ç§æ–¹å¼å¯ä»¥çœ‹åˆ°ï¼šä½¿ç”¨ obj æ¥ç›´æ¥ä½œä¸º map çš„ keyï¼Œå¯ä»¥ä½¿å¾—è¡¨è¾¾æ›´ä¼˜é›…ï¼Œä¹Ÿæ›´ç®€æ´
+ Map ä¸­å¯¹ key çš„åŒ¹é…ä¸ä¸¥æ ¼æ¯”è¾ƒï¼ˆ===ï¼‰å·®ä¸å¤šï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œ`NaN` æ˜¯è¢«è®¤ä¸ºç›¸ç­‰çš„ï¼ˆä¸¥æ ¼å’Œéä¸¥æ ¼æ¯”è¾ƒä¸­ï¼Œ`NaN` ä¸ç­‰äºä»»ä½•ï¼ŒåŒ…æ‹¬å®ƒæœ¬èº«ï¼‰ï¼Œå› æ­¤ `NaN` ä¹Ÿå¯ä»¥è¢«ç”¨æ¥å½“ key

### map çš„åˆ›å»º
+ **`new map()`** å¯ä»¥ä¸å¸¦å‚æ•°ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºçš„ Map æ•°æ®ç»“æ„ï¼›ä¹Ÿå¯ä»¥å¸¦å‚æ•°ï¼Œä½†æ˜¯å¿…é¡»æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„
  ```javascript
  let map = new Map([
    ['1', 'str1'],
    [1, 'num1'],
    [true, 'bool1']
  ])


  map.get('1')   // "str1"
  map.get(1)     // "num1"
  // å¯ä»¥çœ‹åˆ°åœ¨ map ä¸­ï¼Œä¸ä¼šè‡ªåŠ¨å°† key è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå®šä¹‰çš„æ—¶å€™æ˜¯ä»€ä¹ˆæ•°æ®æ ¼å¼å°±æ˜¯ä»€ä¹ˆæ•°æ®æ ¼å¼
  ```
+ ä»å¯¹è±¡ä¸­åˆ›å»ºï¼Œé€šè¿‡ **`Object.entries(obj)`** æ–¹æ³•å°†å¯¹è±¡è½¬æ¢æˆå¯¹åº”çš„äºŒç»´æ•°ç»„ï¼Œä»è€Œä½œä¸º `new map()` çš„å‚æ•°
  ```javascript
  let map = new Map(Objcet.entries({
    name: 'John',
    age: 30
  }))

  // Object.entries ä¼šè¿”å›å¯¹è±¡å¯¹åº”çš„äºŒç»´æ•°ç»„ï¼š[['name': 'John'], ['age', 30]]
  ```
+ é€šè¿‡å¯¹ **`map.set(key, value)`** çš„é“¾å¼è°ƒç”¨ï¼Œä¸º map æ·»åŠ å…ƒç´ ï¼Œç”±äº `map.set` è¿”å›çš„æ˜¯ mapï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨
  ```javascript
  map.set('1', 'str1')
     .set(1, 'num1')
     .set(true, 'bool1')
  ```

### map çš„éå†
+ **`map.keys()`**ï¼šéå† map ä¸­æ‰€æœ‰çš„ key
+ **`map.values()`**ï¼šéå† map ä¸­æ‰€æœ‰çš„ value
+ **`map.entries()`**ï¼šéå† map ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œå¹¶è¿”å›æ¯ä¸€ç»„ [key, value]ï¼Œä¹Ÿæ˜¯ `for...of` ä¸­é»˜è®¤çš„éå†æ–¹å¼
```javascript
  let numbers = new Map([
    ['one', 1],
    [2, 'two'],
    [3, 'three']
  ])

  for (let key of numbers.keys())
    alert(key)  // 'one', 2, 3

  for (let value of numbers.values())
    alert(value)  // 1, 'two', 'three'

  for (let number of numbers) //ç­‰æ•ˆäº numbers.entries()   
    alert(number) // ï¼ˆé€ä¸ªæ˜¾ç¤ºæ¯ä¸ªæ•°ç»„çš„å†…å®¹ï¼‰
```
+ è¿­ä»£å‡ºæ¥çš„å…ƒç´ çš„é¡ºåºå’Œåˆå§‹åŠ å…¥æ—¶ä¸€æ ·ï¼Œå³ä¾¿ key æ˜¯æ•°å­—ï¼Œè€Œä¸”æ˜¯ä¹±åºçš„ï¼Œä¹Ÿä¿ç•™äº†åˆå§‹æ·»åŠ æ—¶çš„é¡ºåºï¼Œè¿™ä¸€ç‚¹ä¸ object ä¸åŒ
+ **`map.forEach()`**ï¼šmap ä¹Ÿæœ‰å†…ç½®çš„ forEach æ–¹æ³•ï¼Œå’Œæ•°ç»„ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å®ç°å¯¹å…ƒç´ çš„éå†
  ```javascript
  numbers.forEach((value, key) => alert(`${key}: ${value}`))
  ```
  + âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒ¿åå‡½æ•°çš„å‚æ•°ï¼Œå‰ä¸€ä¸ªæ˜¯ `value`ï¼Œåä¸€ä¸ªæ˜¯ `key`

## Set
+ set æ˜¯å€¼çš„é›†åˆï¼Œä½†æ˜¯è¿™ä¸ªé›†åˆé‡Œæ¯ä¸ªå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰é‡å¤å€¼
+ ä¸»è¦çš„æ–¹æ³•æœ‰ï¼š
  + **`new Set(iterable)`**ï¼šåˆ›å»ºä¸€ä¸ª setï¼Œå¯é€‰åœ°å¯ä»¥ä»æ•°ç»„ä¸­çš„ values ä¸­åˆ›å»ºï¼ˆåªè¦æ˜¯å¯è¿­ä»£çš„éƒ½å¯ä»¥ï¼‰
  + **`set.add(value)`**ï¼šæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å› set æœ¬èº«ï¼ˆæ‰€ä»¥ä¹Ÿå¯ä»¥åƒ map é‚£æ ·é“¾å¼æ·»åŠ å…ƒç´ ï¼‰
  + **`set.delete(value)`**ï¼šåˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œåˆ é™¤æˆåŠŸè¿”å› trueï¼Œå¦åˆ™è¿”å› false
  + **`set.has(value)`**ï¼šå­˜åœ¨è¿”å› trueï¼Œå¦åˆ™è¿”å› false
  + **`set.clear()`**ï¼šæ¸…ç©º set
  + **`set.size`**ï¼šè¿”å› set ä¸­çš„å…ƒç´ ä¸ªæ•°
+ set å¯¹æ’å…¥çš„æ•°æ®çš„å”¯ä¸€æ€§æ£€æŸ¥è¿›è¡Œäº†éå¸¸å¥½çš„ä¼˜åŒ–ï¼Œæ‰€ä»¥å¯ä»¥ç”¨åœ¨å¯¹æ•°ç»„å»é‡ä¸Š

### Set çš„éå†
+ ç”±äº Set ä¸­åªæœ‰ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥ä½¿ç”¨ `for...of` è¿›è¡Œéå†å³å¯
+ Set ä¹Ÿæœ‰ forEachã€keys()ã€values()ã€entries() æ–¹æ³•ï¼Œç±»ä¼¼äº mapï¼Œä½†æ˜¯ç”±äº Set ä¸­ key å’Œ value éƒ½æ˜¯åŒä¸€ä¸ªï¼Œæ‰€ä»¥ keys() å’Œ vlaues() çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œentries() å¾—åˆ°çš„æ˜¯ [value, value]

## WeakMap & WeakSet
+ WeakSet æ˜¯ä¸€ç§ç‰¹æ®Šçš„ Setï¼Œä¸ä¼šé˜»æ­¢ gc è‡ªåŠ¨å›æ”¶å…¶ä¸­ä¸å¯è¾¾çš„ itemsï¼Œä»è€Œé¿å…å†…å­˜æ³„æ¼ã€‚WeakMap åŒç†
+ åœ¨ weakMap å’Œ weakSet ä¸­ï¼Œkey éƒ½åªèƒ½æ˜¯ object ç±»å‹ï¼Œè€Œä¸èƒ½æ˜¯å…¶å®ƒåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œå¦åˆ™ä¼šæŠ¥é”™
+ å½“ key ä¸å¯è¾¾æ—¶ï¼Œåˆ™åƒåœ¾å›æ”¶æœºåˆ¶ä¼šå°†å…¶è¿›è¡Œå›æ”¶ï¼ˆä½†æ˜¯åœ¨æ§åˆ¶å°ä¸Šçœ‹ä¸å‡ºæ•ˆæœï¼Œæ‰€ä»¥ä¸ç¡®å®šè¿™ä¹ˆç†è§£å¯¹ä¸å¯¹ğŸ˜‚ï¼‰
+ weakMap vs Map
  + weakMap æ˜¯é’ˆå¯¹ key ä¸º object æ—¶çš„ Map çš„ä¸€ç§æ‰©å±•
  + å› ä¸ºå½“ key ä¸º object æ—¶ï¼Œmap.keys() éå†å¾—åˆ°çš„æ˜¯å¯¹å…·ä½“çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯æŒ‡å‘å®ƒä»¬çš„å˜é‡
    ```javascript
    let a = { num: 0 },
        b = { num: 1 },
        map = new Map()

    map.set(a, 'a')
       .set(b, 'b')

    for (let key of map.keys())
      console.log(key)
    // { num: 0 }
    // { num: 1 }
    ```
  + æ‰€ä»¥å³ä¾¿å½“ `a = null; b = null` æ—¶ï¼Œå³ aã€b éƒ½åˆ†åˆ«å¤±å»äº†å¯¹å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä»¬åŸæœ¬æ‰€æŒ‡çš„å¯¹è±¡ä¹Ÿå·²ç»è¢« map æ‰€å¼•ç”¨ï¼Œæ‰€ä»¥ä¸ä¼šè¢«gcå›æ”¶ï¼Œå³ä¾¿å·²ç»æ²¡åŠæ³•å†å»è°ƒç”¨å®ƒï¼Œæ‰€ä»¥å°±å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼
  + weakMap åˆ™æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚weakMap ç»“æ„çš„æ•°æ®ï¼Œå½“å…¶ä¸­çš„å¯¹è±¡å¤±å»å¼•ç”¨æ—¶ï¼Œåˆ™è¯¥å¯¹è±¡ä¼šè¢«ä»å†…å­˜å’Œ weakMap ä¸­è‡ªåŠ¨åˆ é™¤
+ weakSet ä¸ä¸Šè¿°ç±»ä¼¼
+ å¯¹äº weakMap å’Œ weakSetï¼Œä¸æ”¯æŒä»»ä½•ä¸€ç§éå†æ–¹æ³•ï¼ˆkeys()ã€values()ã€entries()ã€forEach()ï¼‰ï¼Œä¹Ÿæ²¡æœ‰ size å±æ€§


## Example
1. è¿‡æ»¤å­—è°œ   
  + å­—è°œæ˜¯æŒ‡å…·æœ‰ç›¸åŒçš„å­—æ¯ï¼Œä½†æ˜¯ä¸ä¸€æ ·æ’åºçš„ä¸€äº›å•è¯
    ä¾‹å¦‚ï¼šnap - pan
         ear - are - era
         cheaters - hectares - teachers
  + é¢˜ç›®è¦æ±‚å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å­—è°œå»æ‰ï¼Œä»…ä¿ç•™ä¸€ä¸ªï¼Œä¾‹å¦‚ï¼š
    ```javascript
    let arr = ['nap', 'teachers', "cheaters", "PAN", "ear", "era", "hectares"]

    aclean(arr)   // 'nap', 'teachers', 'ear' æˆ– 'PAN', 'cheaters', 'era'ï¼ˆåæ­£æ¯ç§å­—è°œåªä¿ç•™ä¸€ä¸ªï¼‰
    ```
  **è§£é¢˜æ€è·¯**   
  + ç”±äºç›¸åŒçš„å­—è°œä¸­å…·æœ‰ç›¸åŒçš„å­—æ¯ï¼Œåªä¸è¿‡é¡ºåºä¸åŒï¼Œé‚£ä¹ˆä¸å¦¨å¯ä»¥å°†è¿™äº›å•è¯çš„æ¯ä¸ªå­—æ¯è¿›è¡Œæ’åºï¼Œç›¸åŒçš„å­—è°œæ’åºå‡ºæ¥çš„ç»“æœè‚¯å®šæ˜¯ä¸€æ ·çš„   
  + å†ç”¨ object æˆ–è€… map è¿›è¡Œå­˜å‚¨ï¼Œæ’åºåçš„æ–°å•è¯ä½œä¸º keyï¼Œåˆ™å¯ä»¥å§‹ç»ˆå­˜å‚¨ä¸€ä¸ªå­—è°œä¸­çš„å•è¯ï¼ˆå®é™…ä¸Šåªèƒ½å¾—åˆ°æœ€åä¸€ä¸ªï¼‰
  ```javascript
  function aclean(arr) {
    let map = new Map()

    arr.forEach(item => {
      let sortItem = item.toLowerCase().splite('').sort().join('')
      map.set(sortItem, item)   
      // ä¹Ÿå¯ä»¥ç”¨ objectï¼Œå› ä¸º key å°±æ˜¯å­—ç¬¦ä¸²
      // obj[sortItem] = item
    })

    return Array.from(map.values())   // åªè¦valueå³å¯
    // return Object.values(obj)
  }
  ```
